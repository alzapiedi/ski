{"version":3,"sources":["webpack/bootstrap da789982cdec554fa677","./js/game.js","./js/ski.js","./js/movingObject.js","./js/utils.js","./js/skier.js","./js/obstacle.js","./js/ramp.js","./js/yeti.js","./js/skiView.js","./js/loading.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,oDAAoD;AAC9E,OAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,6BAA6B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAwB,iCAAiC;AACzD;AACA;AACA,IAAG;AACH,qCAAoC,iCAAiC;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB,6DAA6D;AACrF;;AAEA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,6CAA4C,aAAa;AACzD,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,wCAAwC;AACnE,iCAAgC,wCAAwC;AACxE,4BAA2B,wCAAwC;AACnE,iCAAgC,wCAAwC;AACxE;;AAEA,qDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACxXA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAkB,UAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;;;;;;AC/CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,4CAA4C;AACvE;AACA;;;AAGA;AACA;AACA,WAAU;AACV;;AAEA;AACA,uBAAsB,cAAc;AACpC;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,iCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;;;AAGA;;;;;;;AC5DA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ,IAAG;AACH,aAAY;AACZ,IAAG;AACH,aAAY;AACZ,IAAG;AACH,aAAY;AACZ;AACA;;;;AAIA;;;;;;;ACxBA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAU;AACV;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,qBAAqB;AACnD;AACA;AACA;;AAEA;AACA;AACA,WAAU;AACV;AACA;;;;;;;AC5DA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;;;;;;AChHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap da789982cdec554fa677\n **/","var Ski = require('./ski'),\n    SkiView = require('./skiView'),\n    Loading = require('./loading');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var canvas = document.getElementById('ski');\n  var ctx = canvas.getContext(\"2d\");\n  canvas.height = 600;\n  canvas.width = 800;\n  var gameSettings = {speed: 1, density: 2, monster: true, physics: true}\n  var game = new Ski(gameSettings);\n  window.ski = game;\n  var view = new SkiView(game, ctx);\n  var load = new Loading(ctx);\n  load.animate(view.start.bind(view));\n  // view.start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 0\n ** module chunks = 0\n **/","var MovingObject = require('./movingObject'),\n    Utils = require('./utils'),\n    Skier = require('./skier'),\n    Obstacle = require('./obstacle'),\n    Ramp = require('./ramp'),\n    Yeti = require('./yeti');\n\nvar Ski = function (attr) {\n  this.loadImages();\n  this.obstacles = [];\n  this.god = false;\n  this.ramps = [];\n  this.crashed = false;\n  this.canCrash = true;\n  this.direction = 3;\n  this.speed = attr.speed;\n  this.density = attr.density;\n  this.isJumping = false;\n  this.timerStart = Date.now();\n  this.distance = 0;\n  this.over = false;\n  this.velocity = [0, 0];\n  this.physics = attr.physics;\n  this.monster = attr.monster;\n  // skiImg.onload = function () {\n  this.skier = new Skier({pos: [400, 300], game: this, img: this.skierImgs[3]});\n  // }.bind(this);\n  this.seedObjects();\n  this.startObjectInterval();\n}\n\nSki.prototype.setSpeed = function (s) {\n  this.stopObjectInterval();\n  this.speed = s;\n  this.updateVelocities();\n  this.startObjectInterval();\n}\n\nSki.prototype.setDensity = function (d) {\n  this.stopObjectInterval();\n  this.density = d;\n  this.startObjectInterval()\n}\n\nSki.prototype.setPhysics = function (p) {\n  p ? this.physics = true : this.physics = false;\n}\n\nSki.prototype.seedObjects = function () {\n  for (var i = 0; i < 10; i++) {\n    this.addObject();\n  }\n  this.allObjects().forEach(function (obj) {\n    var r = Math.random() * 200 + 100;\n    obj.pos[1] -= r;\n    obj.pos[0] -= 600;\n  });\n}\n\nSki.prototype.vels = function () {\n  var s = this.speed;\n  var vels = {\n    3: [0,0],\n    4: [-3 * s, -2 * s],\n    5: [-2 * s, -3 * s],\n    6: [0, -3.5 * s],\n    7: [2 * s, -3 * s],\n    8: [3 * s, -2 * s],\n    9: [0,0],\n    10: [0,0]\n  };\n    return vels;\n}\n\nSki.prototype.remove = function (object) {\n  if(object instanceof Obstacle){\n    var i = this.obstacles.indexOf(object);\n    this.obstacles.splice(i, 1);\n  } else if (object instanceof Ramp) {\n    var i = this.ramps.indexOf(object);\n    this.ramps.splice(i, 1);\n  } else if (object instanceof Yeti) {\n    delete this.yeti;\n  }\n};\n\nSki.prototype.isMoving = function () {\n  var moving = this.direction > 3 && this.direction < 9;\n  if (!moving) { this.restartTimer(); }\n  return moving;\n}\n\nSki.prototype.restartTimer = function () {\n  this.timerStart = Date.now();\n}\n\nSki.prototype.getTimer = function () {\n  if (this.isMoving()) {\n    this.timerNow = Math.floor((Date.now() - this.timerStart)/1000) + \"s\";\n  }\n  return this.timerNow;\n}\n\nSki.prototype.loadImages = function () {\n  var ski3 = new Image();\n  var ski4 = new Image();\n  var ski5 = new Image();\n  var ski6 = new Image();\n  var ski7 = new Image();\n  var ski8 = new Image();\n  var ski9 = new Image();\n  var ski10 = new Image();\n  var skiCrash = new Image();\n  var skiJump = new Image();\n  var tree1 = new Image();\n  var tree2 = new Image();\n  var tree3 = new Image();\n  var rock = new Image();\n  var ramp = new Image();\n  var banner = new Image();\n  var yeti = new Image();\n  var eat = new Image();\n\n  yeti.src = 'img/yeti.png';\n  ski3.src = 'img/skier3.png';\n  ski4.src = 'img/skier4.png';\n  ski5.src = 'img/skier5.png';\n  ski6.src = 'img/skier6.png';\n  ski7.src = 'img/skier7.png';\n  ski8.src = 'img/skier8.png';\n  ski9.src = 'img/skier9.png';\n  ski10.src = 'img/skier10.png';\n  skiCrash.src = 'img/skicrash.png';\n  skiJump.src = 'img/skijump.png';\n  tree1.src = 'img/tree1.png';\n  tree2.src = 'img/tree2.png';\n  tree3.src = 'img/tree3.png';\n  rock.src = 'img/rock.png';\n  ramp.src = 'img/ramp.png';\n  banner.src = 'img/banner.png';\n  eat.src = 'img/eat.png';\n  this.skierImgs = {3: ski3, 4: ski4, 5: ski5, 6: ski6, 7: ski7, 8: ski8, 9: ski9, 10: ski10, crash: skiCrash, jump: skiJump, eat: eat};\n  this.obstacleImgs = {0: tree1, 1: tree2, 2: tree3, 3: rock};\n  this.rampImg = ramp;\n  this.banner = banner;\n  this.yetiImg = yeti;\n}\n\nSki.prototype.allObjects = function () {\n  var obj = this.obstacles.concat(this.ramps);\n  if (this.yeti) { obj = obj.concat(this.yeti); }\n  return obj;\n}\n\nSki.prototype.startObjectInterval = function () {\n  this.objInterval = setInterval(function () {\n    if ( this.direction > 3 && this.direction < 9 ) {\n      this.addObject();\n    }\n  }.bind(this), (250/this.speed)/this.density);\n}\n\nSki.prototype.stopObjectInterval = function () {\n  clearInterval(this.objInterval);\n  this.objInterval = 0;\n}\n\nSki.prototype.randomPosition = function () {\n  var x = Math.floor(Math.random() * 1000) - 100;\n  x += (6 - this.direction) * 200;\n  return [x, 600];\n}\n\nSki.prototype.draw = function (ctx, timeDelta) {\n  ctx.clearRect(0,0,800,600);\n  ctx.font=\"20px Helvetica\";\n  var timer = this.getTimer() || \"0s\";\n  var distance = Math.floor(this.distance) + \"ft\";\n  if (!this.isJumping) { this.skier.draw(ctx, timeDelta); }\n  this.allObjects().forEach(function (obj) {\n    obj.draw(ctx);\n  });\n  if (this.isJumping || this.over) { this.skier.draw(ctx, timeDelta); }\n  ctx.drawImage(this.banner, 0, 0);\n  ctx.fillText(timer + \" / \" + distance,680,55);\n}\n\nSki.prototype.moveObjects = function (timeDelta) {\n  this.allObjects().forEach(function (obj) {\n    obj.move(timeDelta);\n  });\n}\n\nSki.prototype.shiftObjects = function (n) {\n  this.allObjects().forEach(function (obj) {\n    obj.shift(n);\n  });\n}\n\nSki.prototype.setMonster = function (mon) {\n  this.monster = !!mon;\n}\n\nSki.prototype.step = function (timeDelta) {\n  if (!this.over) {\n    var vel = this.vels()[this.direction];\n    this.distance -= vel[1] / 13;\n    if (this.distance > 750 && !this.yeti && this.monster) {   // MAKE 2500\n      var r = Math.floor(Math.random() * 1000);\n      if (r === 666) {\n        this.bringOutTheYeti();\n      }\n    }\n    this.updateCurrentVelocity();\n    this.updateVelocities();\n    this.moveObjects(timeDelta);\n    this.checkCollisions();\n  }\n}\n\nSki.prototype.bringOutTheYeti = function () {\n  var vel = [0,0];\n  var randX = Math.floor(Math.random() * 2) === 0 ? -40 : 800;\n  var randY = (Math.random() * 400) + 200;\n  this.yeti = new Yeti({pos: [randX, randY], vel: vel, game: this, img: this.yetiImg});\n}\n\nSki.prototype.checkCollisions = function () {\n  var obj = this.allObjects();\n  for (var i = 0; i < obj.length; i++) {\n    if (this.skier.isCollidedWith(obj[i])) {\n      this.skier.collideWith(obj[i]);\n    }\n  }\n}\n\nSki.prototype.addObject = function () {\n  var i = Math.floor(Math.random() * 10);\n  var randomPos = this.randomPosition();\n  var vel = this.velocity;\n  while (this.overlappingObject(randomPos)) {\n    randomPos = this.randomPosition();\n  }\n  if (i > 1) {\n    var j = Math.floor(Math.random() * 4);\n    var obstacle = new Obstacle({\n      pos: randomPos,\n      vel: vel,\n      game: this,\n      img: this.obstacleImgs[j],\n      style: j\n    });\n    this.obstacles.push(obstacle);\n  } else {\n    var ramp = new Ramp({\n      pos: randomPos,\n      vel: vel,\n      game: this,\n      img: this.rampImg\n    });\n    this.ramps.push(ramp);\n  }\n}\n\nSki.prototype.overlappingObject = function (testPosition) {\n  var testHitbox = { top: testPosition[1] - 20, left: testPosition[0] - 20, right: testPosition[0] + 40, bottom: testPosition[1] + 60};\n  var test = false;\n  var hitbox;\n  this.allObjects().forEach(function (obj) {\n    hitbox = obj.getHitBox();\n    if (Utils.overlap(hitbox, testHitbox)) { test = true; }\n  });\n  return test;\n}\n\nSki.prototype.updateVelocities = function () {\n  var velPhysics = this.velocity;\n  var velNoPhysics = this.vels()[this.direction];\n  this.allObjects().forEach(function (obj) {\n    if (this.physics) {\n      obj.vel = velPhysics;\n    } else {\n      obj.vel = velNoPhysics;\n    }\n  }.bind(this));\n}\n\nSki.prototype.updateCurrentVelocity = function () {\n    var target = this.vels()[this.direction];\n    var v = this.velocity;\n    if (this.direction === 10) {\n      this.velocity = [0, 0];\n      return;\n    }\n    var f = 20/this.speed;\n    if (v[0] > target[0]) { this.velocity[0] -= (v[0]-target[0])/f; }\n    else if (v[0] < target[0]) { this.velocity[0] += (target[0]-v[0])/f; }\n    if (v[1] > target[1]) { this.velocity[1] -= (v[1]-target[1])/f; }\n    else if (v[1] < target[1]) { this.velocity[1] += (target[1]-v[1])/f; }\n}\n\nSki.prototype.changeDirection = function (keyCode) {  //37 left   39 right\n  if (!this.crashed && !this.isJumping && !this.over) {\n    var dir = this.direction;\n    if (dir === 10) {\n      setTimeout(function () {\n        this.canCrash = true;\n      }.bind(this), 1000)\n    }\n    if (keyCode === 37 && dir === 3) {\n      this.direction = 9;\n    } else if (keyCode === 37 && dir > 3 && dir < 9) {\n      this.direction += 1;\n    } else if (keyCode === 39 && dir === 9) {\n      this.direction = 3;\n    } else if (keyCode === 39 && dir > 3 && dir < 9) {\n      this.direction -= 1;\n    } else if (keyCode === 40) {\n      if (!this.objInterval) {\n        this.startObjectInterval();\n      }\n      this.direction = 6;\n    } else if (keyCode === 37 && dir === 9) {\n      this.shiftObjects(10);\n    } else if (keyCode === 39 && dir === 3) {\n      this.shiftObjects(-10);\n    } else {\n      return;\n    }\n    this.skier.img = this.skierImgs[this.direction];\n    this.updateVelocities();\n  }\n}\n\nSki.prototype.skiCrash = function () {\n  this.stopObjectInterval();\n  this.direction = 10;\n  this.skier.img = this.skierImgs[\"crash\"];\n  this.crashed = true;\n  this.canCrash = false;\n  this.allObjects().forEach(function (obj) {\n    obj.vel = [0, 0];\n  });\n  setTimeout(function () {\n    if (!this.over) {\n      this.crashed = false;\n      this.skier.img = this.skierImgs[this.direction];\n      this.updateVelocities();\n    }\n  }.bind(this), 1000);\n}\n\nSki.prototype.skiJump = function () {\n  this.isJumping = true;\n  this.direction = 6;\n  this.updateVelocities();\n  this.canCrash = false;\n  this.skier.img = this.skierImgs[\"jump\"];\n  setTimeout(function () {\n    this.isJumping = false;\n    this.canCrash = true;\n    this.direction = 6;\n    this.skier.img = this.skierImgs[this.direction];\n    this.skier.animationDir = -1;\n    this.skier.pos = [400, 300];\n  }.bind(this), 2000);\n}\n\nSki.prototype.killSkier = function () {\n  this.over = true;\n  this.yeti = null;\n  this.skier.img = this.skierImgs[\"eat\"];\n  this.direction = 10;\n}\n\n\nmodule.exports = Ski;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ski.js\n ** module id = 1\n ** module chunks = 0\n **/","var Utils = require('./utils');\n\nvar MovingObject = function (attr) {\n  this.pos = attr.pos;\n  this.vel = attr.vel;\n  this.game = attr.game;\n  this.img = attr.img;\n}\n\nMovingObject.prototype.move = function (timeDelta) {\n  if (!this.vel) { debugger; }\n  this.pos[0] += this.vel[0] * timeDelta / (1000/60);\n  this.pos[1] += this.vel[1] * timeDelta / (1000/60);\n  if (this.pos[1] < -50) {\n    this.game.remove(this);\n  }\n}\n\nMovingObject.prototype.shift = function (n) {\n  this.pos[0] += n;\n}\n\nMovingObject.prototype.draw = function (ctx) {\n  ctx.drawImage(this.img, this.pos[0], this.pos[1]);\n}\n\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/movingObject.js\n ** module id = 2\n ** module chunks = 0\n **/","var Utils = {};\n\nUtils.inherits = function (subclass, parentClass) {\n  var Surrogate = function () {};\n  Surrogate.prototype = parentClass.prototype;\n  subclass.prototype = new Surrogate();\n  subclass.prototype.constructor = subclass;\n}\n\nUtils.arrayEquals = function (arr1, arr2) {\n  if (!arr1 || !arr2) {\n    return false;\n  }\n  return arr1[0] === arr2[0] && arr1[1] === arr2[1];\n}\n\nUtils.arrayAdd = function (arr1, arr2) {\n  return [arr1[0] + arr2[0], arr1[1] + arr2[1]];\n}\n\nUtils.overlap = function (r1, r2) {\n  return !(r2.left > r1.right ||\n           r2.right < r1.left ||\n           r2.top > r1.bottom ||\n           r2.bottom < r1.top);\n}\n\nUtils.vector = function (pos1, pos2) {\n  var vec_x = pos2[0] - pos1[0];\n  var vec_y = pos2[1] - pos1[1];\n  var normal = Math.abs(vec_x) > Math.abs(vec_y) ? Math.abs(vec_x) : Math.abs(vec_y);\n  return [vec_x/normal, vec_y/normal];\n}\n\nUtils.scale = function (vector, scaleF) {\n  return [vector[0] * scaleF, vector[1] * scaleF];\n}\n\nUtils.distance = function (pos1, pos2) {\n  var dx = pos1[0] - pos2[0];\n  var dy = pos1[1] - pos2[1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n\n\nwindow.Utils = Utils;\nmodule.exports = Utils;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/utils.js\n ** module id = 3\n ** module chunks = 0\n **/","var MovingObject = require('./movingObject'),\n    Utils = require('./utils'),\n    Obstacle = require('./obstacle'),\n    Ramp = require('./ramp'),\n    Yeti = require('./yeti');\n\nvar Skier = function (attr) {\n  var pos = attr.pos;\n  var game = attr.game;\n  var img = attr.img;\n  this.frameIndex = 0;\n  this.animationDir = -1;\n  MovingObject.call(this, {pos: pos, vel: [0, 0], game: game, img: img});\n}\nUtils.inherits(Skier, MovingObject);\n\n\nSkier.prototype.getHitBox = function () {\n  var pos = this.pos;\n  return {top: pos[1] + 15, bottom: pos[1] + 30, left: pos[0] + 5, right: pos[0] + 15};\n}\n\nSkier.prototype.isCollidedWith = function (otherObject) {\n  if (this.game.god) { return false; }\n  return Utils.overlap(this.getHitBox(), otherObject.getHitBox());\n};\n\n\nSkier.prototype.collideWith = function (otherObject) {\n  if (otherObject instanceof Obstacle && this.game.canCrash  && !this.game.isJumping) {\n    this.game.skiCrash();\n  } else if (otherObject instanceof Ramp && !this.game.isJumping) {\n    this.game.skiJump();\n  } else if (otherObject instanceof Yeti && !this.game.isJumping) {\n    this.game.killSkier();\n  }\n}\n\nSkier.prototype.draw = function (ctx, timeDelta) {\n  if (!this.game.over) {\n    if (this.game.isJumping) {\n      this.pos[1] += (timeDelta/(1000/60))*this.animationDir*1.6;\n      if (this.pos[1] < 200) {\n        this.animationDir = 1;\n      }\n    }\n    ctx.drawImage(this.img, this.pos[0], this.pos[1]);\n  } else {\n    this.startTime = this.startTime || Date.now();\n    var time = Date.now() - this.startTime;\n    if (time > 100) {\n      this.frameIndex += 1;\n      this.startTime = Date.now();\n      if (this.frameIndex > 4) { this.frameIndex = 4; }\n    }\n    ctx.drawImage(this.img, this.frameIndex * 35, 0, 35, 43, this.pos[0], this.pos[1], 35, 43);\n  }\n}\n\n\nmodule.exports = Skier;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/skier.js\n ** module id = 4\n ** module chunks = 0\n **/","var MovingObject = require('./movingObject'),\n    Utils = require('./utils');\n\nvar Obstacle = function (attr) {\n  this.style = attr.style;\n  MovingObject.call(this, attr);\n}\nUtils.inherits(Obstacle, MovingObject);\n\nObstacle.prototype.getHitBox = function () {\n  var pos = this.pos;\n  if (this.style === 0) {\n    return {top: pos[1] + 42, bottom: pos[1] + 60, left: pos[0] + 10, right: pos[0] + 25};\n  } else if (this.style === 1) {\n    return {top: pos[1] + 17, bottom: pos[1] + 30, left: pos[0] + 6, right: pos[0] + 18};\n  } else if (this.style === 2) {\n    return {top: pos[1] + 18, bottom: pos[1] + 30, left: pos[0] + 11, right: pos[0] + 19};\n  } else {\n    return {top: pos[1] + 5, bottom: pos[1] + 12, left: pos[0], right: pos[0] + 18};\n  }\n}\n\n\n\nmodule.exports = Obstacle;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/obstacle.js\n ** module id = 5\n ** module chunks = 0\n **/","var MovingObject = require('./movingObject'),\n    Utils = require('./utils');\n\nvar Ramp = function (attr) {\n  MovingObject.call(this,attr);\n}\n\nUtils.inherits(Ramp, MovingObject);\n\nRamp.prototype.getHitBox = function () {\n  var pos = this.pos;\n  return {top: pos[1], bottom: pos[1] + 5, left: pos[0], right: pos[0] + 35};\n}\n\nmodule.exports = Ramp;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ramp.js\n ** module id = 6\n ** module chunks = 0\n **/","var MovingObject = require('./movingObject'),\n    Utils = require('./utils');\nvar Yeti = function (attrs) {\n  this.startTime = Date.now();\n  this.frameIndex = 0;\n  MovingObject.call(this, attrs);\n}\nUtils.inherits(Yeti, MovingObject);\n\nYeti.prototype.move = function (timeDelta) { // 16ms\n  var skierPos = this.game.skier.pos;\n  var skierDir = this.game.direction;\n  this.vel = Utils.vector(this.pos, skierPos);\n  if (!this.game.isJumping) {\n    if (skierDir === 6) {\n      this.vel = Utils.arrayAdd(this.vel, [0, -1.3]);\n    } else if (skierDir > 3 && skierDir < 9 && skierDir !== 6) {\n      var xOffset = (skierDir - 6)/2;\n      var yOffset = 0 - ((skierDir % 3)/4);\n      if (this.pos[0] > skierPos[0] && skierDir < 6 ||\n          this.pos[0] < skierPos[0] && skierDir > 6) {\n            xOffset -= (6-skierDir);\n            yOffset *= 1.5;\n      }\n      this.vel = Utils.arrayAdd(this.vel, [xOffset, yOffset]);\n    } else {\n      this.vel = [this.vel[0]*3, this.vel[1]*3];\n    }\n  } else {\n    this.vel = [this.vel[0], -0.5];\n  }\n  if (this.pos[1] < 20) {\n    this.vel = [0, -2.5];\n  }\n  if (Math.abs(this.pos[0] - skierPos[0]) > 200 || Utils.distance(this.pos, skierPos > 300)) {\n    this.vel = Utils.scale(this.vel, 4);\n  }\n  this.pos[0] += this.vel[0] * timeDelta / (1000/60);\n  this.pos[1] += this.vel[1] * timeDelta / (1000/60);\n  if (this.pos[1] < -50) {\n    this.game.remove(this);\n  }\n}\n\nYeti.prototype.draw = function (ctx) {\n  var skierXpos = this.game.skier.pos[0];\n  var right = skierXpos > this.pos[0] ? 0 : 64;\n  var time = Date.now() - this.startTime;\n  if (time > (300/this.game.speed)) {\n    this.startTime = Date.now();\n    this.frameIndex += 1;\n    if (this.frameIndex > 1) { this.frameIndex = 0; }\n  }\n  ctx.drawImage(this.img, (this.frameIndex * 32) + right, 0, 32, 42, this.pos[0], this.pos[1], 32, 42);\n}\n\nYeti.prototype.getHitBox = function () {\n  var pos = this.pos;\n  return {top: pos[1] + 10, left: pos[0] + 10, right: pos[0] + 20, bottom: pos[1] + 35};\n}\nmodule.exports = Yeti;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/yeti.js\n ** module id = 7\n ** module chunks = 0\n **/","var Ski = require('./ski');\n\nvar SkiView = function (game, ctx) {\n  this.game = game;\n  this.ctx = ctx;\n  this.stopped = false;\n}\n\nSkiView.prototype.start = function () {\n  $('.newgame').off('click');\n  $('.welcome').css('display','block');\n  this.bindKeyHandlers();\n  this.bindSettingsHandler();\n  this.lastTime = 0;\n  this.animation = requestAnimationFrame(this.animate.bind(this));\n  this.stopped = false;\n}\n\nSkiView.prototype.animate = function (time) {\n  timeDelta = time - this.lastTime;\n  this.game.step(timeDelta);\n  this.game.draw(this.ctx, timeDelta);\n  this.lastTime = time;\n  if (!this.stopped) {\n    this.animation = requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\n\nSkiView.prototype.bindKeyHandlers = function () {\n  var key;\n  $(document).on('keydown', function (e) {\n    key = e.keyCode;\n    if (key > 36 && key < 41) {\n      e.preventDefault();\n      this.unbindSettingsHandler();\n      $('.welcome').css('display','none');\n      this.game.changeDirection(e.keyCode);\n    }\n  }.bind(this));\n}\n\nSkiView.prototype.unbindKeyHandlers = function () {\n  $(document).off('keydown');\n  $('.newgame').off('click');\n}\n\nSkiView.prototype.bindSettingsHandler = function () {\n  $('.options').css('display', 'block');\n  $('.speed').on('click', function (e) {\n    var s = parseInt(e.target.id.substring(5,6));\n    $('.speed').children().each(function (i, el) {\n      $(el).removeClass();\n    });\n    $(e.target).addClass('selected');\n    this.game.setSpeed(s);\n  }.bind(this));\n  $('.density').on('click', function (e) {\n    var d = parseInt(e.target.id.substring(3,4));\n    $('.density').children().each(function (i, el) {\n      $(el).removeClass();\n    });\n    $(e.target).addClass('selected');\n    this.game.setDensity(d);\n  }.bind(this));\n  $('.monster').on('click', function (e) {\n    var mon = parseInt(e.target.id.substring(3,4));\n    $('.monster').children().each(function (i, el) {\n      $(el).removeClass();\n    });\n    $(e.target).addClass('selected');\n    this.game.setMonster(mon);\n  }.bind(this));\n  $('.physics').on('click', function (e) {\n    var p = parseInt(e.target.id.substring(3,4));\n    $('.physics').children().each(function (i, el) {\n      $(el).removeClass();\n    });\n    $(e.target).addClass('selected');\n    this.game.setPhysics(p);\n  }.bind(this));\n}\n\nSkiView.prototype.unbindSettingsHandler = function () {\n  $('.speed').off('click');\n  $('.density').off('click');\n  $('.monster').off('click');\n  $('.physics').off('click');\n  $('.options').css('display', 'none');\n  $('.newgame').css('display', 'block');\n  $('.newgame').on('click', function (e) {\n    e.preventDefault();\n    this.unbindKeyHandlers();\n    this.game.over = true;\n    this.stopped = true;\n    var g = this.game;\n    var gameSettings = {\n      speed: g.speed,\n      density: g.density,\n      monster: g.monster,\n      physics: g.physics\n    }\n    cancelAnimationFrame(this.animation);\n    this.game.stopObjectInterval();\n    delete this.game;\n    this.game = new Ski(gameSettings);\n    $('.newgame').css('display', 'none');\n    $('.options').css('display', 'block');\n    this.start();\n  }.bind(this));\n\n}\nmodule.exports = SkiView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/skiView.js\n ** module id = 8\n ** module chunks = 0\n **/","var Loading = function (ctx) {\n  this.ctx = ctx;\n  this.loadImages();\n}\n\nLoading.prototype.animate = function (callback) {\n  this.img1.onload = function () {\n    this.ctx.drawImage(this.img1,0,0,800,600);\n    setTimeout(function () {\n      this.ctx.drawImage(this.img2,0,0,800,600);\n      this.ctx.drawImage(this.img3,300,400);\n      setTimeout(this.mouseMove.bind(this), 1000);\n      setTimeout(callback, 3300);\n    }.bind(this), 4300);\n  }.bind(this);\n}\n\nLoading.prototype.loadImages = function () {\n  var img1 = new Image();\n  img1.src = 'img/w95.png';\n  this.img1 = img1;\n  var img2 = new Image();\n  img2.src = 'img/w95d.png';\n  this.img2 = img2;\n  var img3 = new Image();\n  img3.src = 'img/cursor.png';\n  this.img3 = img3;\n}\n\nLoading.prototype.mouseMove = function () {\n  // 150, 335\n  var c_x = 300;\n  var c_y = 400;\n  var interval = setInterval(function () {\n    c_x -= 4.6;\n    c_y -= 2;\n    this.ctx.drawImage(this.img2,0,0,800,600);\n    this.ctx.drawImage(this.img3,c_x,c_y);\n    if (c_y < 335) {\n      clearInterval(interval);\n      interval = 0;\n    }\n  }.bind(this), 50);\n}\n\nmodule.exports = Loading;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/loading.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}